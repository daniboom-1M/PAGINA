<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DANIBOOM | MAIN</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Orbitron',sans-serif;}
body{background:#0b0b0b;color:#fff;overflow-x:hidden;}
header{
  position:fixed;top:0;width:100%;z-index:1000;
  display:flex;align-items:center;justify-content:space-between;
  padding:1rem 1.5rem;background:rgba(0,0,0,.55);
  backdrop-filter:blur(12px);
}
.logo{display:flex;align-items:center;gap:.8rem;}
.logo img{width:48px;height:48px;border-radius:50%;border:2px solid gold;}
.logo span{font-family:'Press Start 2P';font-size:.75rem;color:gold;text-shadow:0 0 8px gold;}
.left-controls{display:flex;align-items:center;gap:1rem;}
.bell{position:relative;font-size:1.2rem;color:gold;cursor:pointer;}
.bell.shake{animation:shake .8s infinite;}
@keyframes shake{0%{transform:rotate(0)}25%{transform:rotate(8deg)}50%{transform:rotate(-8deg)}75%{transform:rotate(6deg)}100%{transform:rotate(0)}}
.bell-dot{position:absolute;top:-4px;right:-4px;width:10px;height:10px;background:red;border-radius:50%;display:none;}
.menu-btn{width:26px;display:flex;flex-direction:column;gap:5px;cursor:pointer;}
.menu-btn span{height:3px;background:gold;border-radius:3px;transition:.4s;}
.menu-btn.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px);}
.menu-btn.active span:nth-child(2){opacity:0;}
.menu-btn.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px);}
.menu-popup{
  position:fixed;top:80px;right:20px;background:#111;
  border:2px solid gold;border-radius:14px;padding:1rem;
  display:none;flex-direction:column;gap:.7rem;width:220px;
}
.menu-popup a{color:gold;text-decoration:none;font-size:.8rem;}
.menu-popup .admin{border-top:1px solid #333;padding-top:.5rem;color:#ff6a00;}
.menu-popup .user-info{border:2px solid gold;padding:.5rem;border-radius:10px;display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;}
.menu-popup .user-info img{width:32px;height:32px;border-radius:50%;border:1px solid gold;}
.menu-popup .user-info .details{display:flex;flex-direction:column;font-size:.75rem;color:gold;}
.notification-panel{
  position:fixed;top:0;right:-100%;width:100%;height:100%;background:#0b0b0b;z-index:999;transition:.4s;overflow-y:auto;
}
.notification-panel.show{right:0;}
.notification-header{padding:1.2rem;border-bottom:2px solid gold;display:flex;justify-content:space-between;align-items:center;}
.notification-header h2{color:gold;text-shadow:0 0 10px gold;}
.notification-header i{cursor:pointer;}
.notif-section{padding:1.5rem;}
.notif-section h3{color:#ffcc00;margin-bottom:1rem;font-size:.9rem;}
.notif-card{background:#111;border:2px solid gold;border-radius:14px;padding:1rem;margin-bottom:1rem;box-shadow:0 0 14px gold;}
.notif-card p{font-size:.8rem;color:#ddd;}
.notif-card a{display:inline-block;margin-top:.5rem;background:gold;color:#000;padding:.3rem .8rem;border-radius:20px;text-decoration:none;font-size:.7rem;font-weight:700;}
main{padding:140px 1.5rem 3rem;opacity:0;animation:fadeInMain 1s ease forwards;}
@keyframes fadeInMain{0%{opacity:0;transform:translateY(20px);}100%{opacity:1;transform:translateY(0);}}
.text-section{margin-bottom:2rem;}
.text-section h2{color:gold;text-shadow:0 0 8px gold;margin-bottom:.5rem;}
.text-section p{color:#ddd;font-size:.85rem;line-height:1.4;}
</style>
</head>
<body>

<header>
  <div class="left-controls">
    <div class="bell" id="bell">
      <i class="fa fa-bell"></i>
      <span class="bell-dot" id="bellDot"></span>
    </div>
    <div class="logo">
      <img src="logo.png">
      <span>DANIBOOM</span>
    </div>
  </div>

  <div class="menu-btn" onclick="toggleMenu(this)">
    <span></span><span></span><span></span>
  </div>

  <div class="menu-popup" id="menuPopup">
    <div class="user-info" id="userInfo">
      <img src="default.png" id="userPhoto">
      <div class="details">
        <span id="userName">Cargando...</span>
        <span id="userRole">Rol</span>
        <span id="userMembership">Membresía</span>
      </div>
    </div>
    <a href="#">Perfil</a>
    <a href="#">Cerrar sesión</a>
    <div class="admin" id="adminTools" style="display:none">
      <a href="#">Utilidades de administrador</a>
      <a href="#">Notificaciones</a>
    </div>
  </div>
</header>

<div class="notification-panel" id="notificationPanel">
  <div class="notification-header">
    <h2>Notificaciones</h2>
    <i class="fa fa-xmark" onclick="toggleNotifications()"></i>
  </div>
  <div class="notif-section">
    <h3>Sistema / Actualizaciones</h3>
    <div class="notif-card">
      <p>Ejemplo: Actualización versión 2.0 próximamente.</p>
    </div>
  </div>
  <div class="notif-section">
    <h3>Videos para apoyar</h3>
    <div class="notif-card">
      <p>DaniBoom subió un nuevo video</p>
      <a href="#">Ver video</a>
    </div>
  </div>
</div>

<main>
  <div class="text-section">
    <h2>Bienvenido a la página oficial de Danny Boom</h2>
    <p>Un creador de contenido de Free Fire, hasta ahora creciendo, pero próximamente grande, ofreciendo recompensas a suscriptores. Gracias por todo el apoyo y los amo.</p>
  </div>
  <div class="text-section">
    <h2>Aquí encontrarás:</h2>
    <p>- Todas mis redes sociales en <a href="redes.html" style="color:gold;">redes.html</a></p>
    <p>- Sensibilidades para tu dispositivo (¡próximamente!)</p>
    <p>- Aplicaciones Pro, hackeadas con todo ilimitado</p>
    <p>- Mi tienda oficial, comprando productos de Danny Boom (solo Colombia, próximamente)</p>
  </div>
</main>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js";

// ===== CONFIG =====
const firebaseConfig = {
  apiKey: "TU_API_KEY",
  authDomain: "TU_AUTH_DOMAIN",
  projectId: "TU_PROJECT_ID",
  storageBucket: "TU_BUCKET",
  messagingSenderId: "TU_MSG_ID",
  appId: "TU_APP_ID"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth();
const db = getFirestore();

// ===== ELEMENTS =====
const bell = document.getElementById("bell");
const bellDot = document.getElementById("bellDot");
const panel = document.getElementById("notificationPanel");
const menuPopup = document.getElementById("menuPopup");
const adminTools = document.getElementById("adminTools");
const userNameEl = document.getElementById("userName");
const userPhotoEl = document.getElementById("userPhoto");
const userRoleEl = document.getElementById("userRole");
const userMembershipEl = document.getElementById("userMembership");

// ===== AUTH STATE =====
onAuthStateChanged(auth, async(user)=>{
  if(!user){ window.location.href = "login.html"; return; }

  // Traer datos de Firestore
  const userRef = doc(db,"users",user.uid);
  const docSnap = await getDoc(userRef);
  if(docSnap.exists()){
    const data = docSnap.data();
    userNameEl.textContent = data.displayName || "Nuevo Usuario";
    userPhotoEl.src = data.photoURL || "default.png";
    userRoleEl.textContent = "Rol: "+(data.role || "usuario");
    userMembershipEl.textContent = "Membresía: "+(data.membership || "miembro");

    if(data.role==="admin" || data.role==="moderator"){
      adminTools.style.display="block";
    }
  }
});

// ===== MENU =====
function toggleMenu(btn){
  btn.classList.toggle("active");
  menuPopup.classList.toggle("show");
}

// ===== NOTIFICATIONS =====
const hasNotifications = true; // Simulación

if(hasNotifications){
  bellDot.style.display="block";
  bell.classList.add("shake");
}

function toggleNotifications(){
  panel.classList.toggle("show");
  bellDot.style.display="none";
  bell.classList.remove("shake");
}

bell.addEventListener("click", toggleNotifications);
</script>

</body>
</html>